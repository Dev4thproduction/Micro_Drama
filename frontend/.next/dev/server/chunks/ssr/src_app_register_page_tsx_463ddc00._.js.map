{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/4D/Desktop/Micro_Drama/frontend/src/app/register/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { \r\n  User, \r\n  Mail, \r\n  Lock, \r\n  Eye, \r\n  EyeOff, \r\n  ArrowRight,\r\n  Zap,\r\n  Briefcase,\r\n  Clapperboard,\r\n  CheckCircle,\r\n  AlertCircle\r\n} from 'lucide-react';\r\nimport { clsx } from 'clsx';\r\n\r\nexport default function RegisterPage() {\r\n  const { register } = useAuth();\r\n  const [formData, setFormData] = useState({ \r\n    displayName: '',\r\n    email: '', \r\n    password: '', \r\n    role: 'viewer' \r\n  });\r\n  \r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  // Password Strength Logic\r\n  const getPasswordStrength = (pass: string) => {\r\n    if (!pass) return 0;\r\n    let score = 0;\r\n    if (pass.length >= 8) score++;\r\n    if (/\\d/.test(pass)) score++;\r\n    if (/[!@#$%^&*]/.test(pass)) score++;\r\n    if (/[A-Z]/.test(pass)) score++;\r\n    return score; // 0 to 4\r\n  };\r\n\r\n  const strength = getPasswordStrength(formData.password);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      await register(formData.email, formData.password, formData.role);\r\n    } catch (err: any) {\r\n      setError(err.message || 'Registration failed');\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex bg-[#0f1117] font-display text-white selection:bg-primary/30 overflow-hidden\">\r\n      \r\n      {/* LEFT SIDE: Brand & Visuals */}\r\n      <div className=\"hidden lg:flex w-1/2 relative overflow-hidden bg-gray-900 justify-center items-center\">\r\n        <div className=\"absolute inset-0 z-0\">\r\n          <div \r\n            className=\"absolute inset-0 bg-cover bg-center opacity-60 mix-blend-overlay animate-[slowZoom_20s_infinite_alternate]\"\r\n            style={{ backgroundImage: 'url(\"https://images.unsplash.com/photo-1626814026160-2237a95fc5a0?q=80&w=2670&auto=format&fit=crop\")' }}\r\n          />\r\n          <div className=\"absolute inset-0 bg-gradient-to-t from-[#0f1117] via-[#0f1117]/60 to-purple-900/20 mix-blend-multiply\"></div>\r\n        </div>\r\n\r\n        <div className=\"relative z-10 p-16 flex flex-col justify-between h-full w-full\">\r\n          <div className=\"animate-fade-in-up\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-primary/10 rounded-lg border border-primary/20 backdrop-blur-md\">\r\n                <Zap className=\"text-primary fill-current\" size={24} />\r\n              </div>\r\n              <span className=\"text-2xl font-bold tracking-tight text-white\">Micro-Drama</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"max-w-lg space-y-6 animate-fade-in-up [animation-delay:200ms]\">\r\n            <h1 className=\"text-5xl font-bold leading-tight drop-shadow-2xl\">\r\n              Start your journey<br />\r\n              <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400\">\r\n                as a creator or fan.\r\n              </span>\r\n            </h1>\r\n            <p className=\"text-lg text-gray-300/90 leading-relaxed font-light\">\r\n              Join thousands of users defining the future of vertical entertainment. \r\n              Upload, watch, and monetize in minutes.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"text-sm text-gray-500 animate-fade-in-up [animation-delay:400ms]\">\r\n            Â© 2025 Micro-Drama Platform. All rights reserved.\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* RIGHT SIDE: Register Form */}\r\n      <div className=\"w-full lg:w-1/2 relative flex items-center justify-center p-6 sm:p-12 overflow-y-auto\">\r\n        \r\n        {/* Ambient Color Blobs */}\r\n        <div className=\"absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-purple-600/20 rounded-full blur-[100px] animate-pulse-slow\"></div>\r\n        <div className=\"absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 bg-primary/10 rounded-full blur-[100px] animate-pulse-slow [animation-delay:2s]\"></div>\r\n\r\n        <div className=\"w-full max-w-[480px] relative z-10 animate-fade-in-up my-auto\">\r\n          \r\n          <div className=\"mb-8 space-y-2 text-center lg:text-left\">\r\n            <h2 className=\"text-3xl font-bold tracking-tight\">Create Account</h2>\r\n            <p className=\"text-gray-400\">Join the platform tailored for vertical video.</p>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n            \r\n            {/* Error Message */}\r\n            {error && (\r\n              <div className=\"p-4 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm flex items-center gap-2 animate-shake\">\r\n                <AlertCircle size={16} />\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            {/* Display Name */}\r\n            <div className=\"space-y-1.5\">\r\n              <label className=\"text-sm font-medium text-gray-300 ml-1\">Display Name</label>\r\n              <div className=\"relative group\">\r\n                <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-primary transition-colors\">\r\n                  <User size={18} />\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"e.g. Alex Creator\"\r\n                  className=\"block w-full rounded-xl border border-gray-800 bg-[#161b22]/80 pl-11 pr-4 py-3.5 text-gray-100 placeholder:text-gray-600 focus:border-primary focus:ring-1 focus:ring-primary focus:bg-[#161b22] transition-all duration-200 outline-none hover:border-gray-700\"\r\n                  value={formData.displayName}\r\n                  onChange={(e) => setFormData({...formData, displayName: e.target.value})}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Email */}\r\n            <div className=\"space-y-1.5\">\r\n              <label className=\"text-sm font-medium text-gray-300 ml-1\">Email</label>\r\n              <div className=\"relative group\">\r\n                <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-primary transition-colors\">\r\n                  <Mail size={18} />\r\n                </div>\r\n                <input\r\n                  type=\"email\"\r\n                  required\r\n                  placeholder=\"name@company.com\"\r\n                  className=\"block w-full rounded-xl border border-gray-800 bg-[#161b22]/80 pl-11 pr-4 py-3.5 text-gray-100 placeholder:text-gray-600 focus:border-primary focus:ring-1 focus:ring-primary focus:bg-[#161b22] transition-all duration-200 outline-none hover:border-gray-700\"\r\n                  value={formData.email}\r\n                  onChange={(e) => setFormData({...formData, email: e.target.value})}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Role Selection (Custom Cards) */}\r\n            <div className=\"space-y-1.5\">\r\n              <label className=\"text-sm font-medium text-gray-300 ml-1\">I want to...</label>\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setFormData({...formData, role: 'viewer'})}\r\n                  className={clsx(\r\n                    \"flex flex-col items-center justify-center gap-2 p-4 rounded-xl border transition-all duration-200\",\r\n                    formData.role === 'viewer' \r\n                      ? \"bg-primary/10 border-primary text-primary shadow-[0_0_15px_rgba(19,91,236,0.15)]\" \r\n                      : \"bg-[#161b22]/80 border-gray-800 text-gray-400 hover:border-gray-700 hover:bg-[#1c2128]\"\r\n                  )}\r\n                >\r\n                  <Clapperboard size={20} />\r\n                  <span className=\"text-sm font-medium\">Watch</span>\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setFormData({...formData, role: 'creator'})}\r\n                  className={clsx(\r\n                    \"flex flex-col items-center justify-center gap-2 p-4 rounded-xl border transition-all duration-200\",\r\n                    formData.role === 'creator' \r\n                      ? \"bg-purple-500/10 border-purple-500 text-purple-400 shadow-[0_0_15px_rgba(168,85,247,0.15)]\" \r\n                      : \"bg-[#161b22]/80 border-gray-800 text-gray-400 hover:border-gray-700 hover:bg-[#1c2128]\"\r\n                  )}\r\n                >\r\n                  <Briefcase size={20} />\r\n                  <span className=\"text-sm font-medium\">Create</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Password */}\r\n            <div className=\"space-y-1.5\">\r\n              <label className=\"text-sm font-medium text-gray-300 ml-1\">Password</label>\r\n              <div className=\"relative group\">\r\n                <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 group-focus-within:text-primary transition-colors\">\r\n                  <Lock size={18} />\r\n                </div>\r\n                <input\r\n                  type={showPassword ? \"text\" : \"password\"}\r\n                  required\r\n                  placeholder=\"Create a strong password\"\r\n                  className=\"block w-full rounded-xl border border-gray-800 bg-[#161b22]/80 pl-11 pr-11 py-3.5 text-gray-100 placeholder:text-gray-600 focus:border-primary focus:ring-1 focus:ring-primary focus:bg-[#161b22] transition-all duration-200 outline-none hover:border-gray-700\"\r\n                  value={formData.password}\r\n                  onChange={(e) => setFormData({...formData, password: e.target.value})}\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-500 hover:text-white transition-colors\"\r\n                >\r\n                  {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\r\n                </button>\r\n              </div>\r\n\r\n              {/* Strength Meter */}\r\n              {formData.password && (\r\n                <div className=\"px-1 pt-2 animate-fade-in\">\r\n                  <div className=\"flex gap-1.5 h-1 mb-2\">\r\n                    {[1, 2, 3, 4].map((i) => (\r\n                      <div key={i} className={clsx(\r\n                        \"flex-1 rounded-full transition-all duration-500\",\r\n                        strength >= i \r\n                          ? (strength <= 2 ? \"bg-red-500\" : strength === 3 ? \"bg-yellow-500\" : \"bg-emerald-500\") \r\n                          : \"bg-gray-800\"\r\n                      )}></div>\r\n                    ))}\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 text-xs text-gray-500\">\r\n                    {strength >= 4 ? (\r\n                      <span className=\"text-emerald-500 flex items-center gap-1\"><CheckCircle size={10} /> Strong Password</span>\r\n                    ) : (\r\n                      <span>Include numbers & symbols for strength</span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className=\"w-full relative group overflow-hidden rounded-xl bg-primary px-4 py-3.5 text-sm font-bold text-white shadow-[0_0_20px_rgba(19,91,236,0.3)] transition-all hover:shadow-[0_0_30px_rgba(19,91,236,0.5)] hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed mt-2\"\r\n            >\r\n              <div className=\"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700\"></div>\r\n              <span className=\"relative flex items-center justify-center gap-2\">\r\n                {isSubmitting ? 'Creating Account...' : 'Create Account'} \r\n                {!isSubmitting && <ArrowRight size={16} />}\r\n              </span>\r\n            </button>\r\n\r\n            <p className=\"text-center text-sm text-gray-500 mt-6\">\r\n              Already have an account?{' '}\r\n              <Link href=\"/login\" className=\"font-semibold text-primary hover:text-primary/80 transition-colors\">\r\n                Sign in\r\n              </Link>\r\n            </p>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}