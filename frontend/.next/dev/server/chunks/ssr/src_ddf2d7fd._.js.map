{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/4D/Desktop/Micro_Drama/frontend/src/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\r\nimport { clsx } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'outline';\r\n  isLoading?: boolean;\r\n}\r\n\r\nexport const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant = 'primary', isLoading, children, ...props }, ref) => {\r\n    const variants = {\r\n      primary: \"bg-indigo-600 text-white hover:bg-indigo-700\",\r\n      secondary: \"bg-gray-600 text-white hover:bg-gray-700\",\r\n      outline: \"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50\",\r\n    };\r\n\r\n    return (\r\n      <button\r\n        ref={ref}\r\n        disabled={isLoading || props.disabled}\r\n        className={twMerge(\r\n          clsx(\r\n            \"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed\",\r\n            variants[variant],\r\n            className\r\n          )\r\n        )}\r\n        {...props}\r\n      >\r\n        {isLoading ? (\r\n          <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-current\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n          </svg>\r\n        ) : null}\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nButton.displayName = 'Button';"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAOO,MAAM,uBAAS,gNAAK,CAAC,UAAU,CACpC,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAClE,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,SAAS;IACX;IAEA,qBACE,8OAAC;QACC,KAAK;QACL,UAAU,aAAa,MAAM,QAAQ;QACrC,WAAW,IAAA,sKAAO,EAChB,IAAA,6IAAI,EACF,qOACA,QAAQ,CAAC,QAAQ,EACjB;QAGH,GAAG,KAAK;;YAER,0BACC,8OAAC;gBAAI,WAAU;gBAA+C,OAAM;gBAA6B,MAAK;gBAAO,SAAQ;;kCACnH,8OAAC;wBAAO,WAAU;wBAAa,IAAG;wBAAK,IAAG;wBAAK,GAAE;wBAAK,QAAO;wBAAe,aAAY;;;;;;kCACxF,8OAAC;wBAAK,WAAU;wBAAa,MAAK;wBAAe,GAAE;;;;;;;;;;;2DAEnD;YACH;;;;;;;AAGP;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/4D/Desktop/Micro_Drama/frontend/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { Button } from '@/components/ui/Button';\r\n\r\nexport default function DashboardPage() {\r\n  const { user, logout, isLoading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    // Wait for loading to finish\r\n    if (!isLoading) {\r\n      if (!user) {\r\n        // Not logged in -> Login\r\n        router.push('/login');\r\n      } else if (user.role !== 'admin') {\r\n        // Logged in but NOT Admin -> Kick to Home\r\n        router.push('/');\r\n      }\r\n    }\r\n  }, [user, isLoading, router]);\r\n\r\n  // Show loading state while checking\r\n  if (isLoading || !user || user.role !== 'admin') {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"animate-pulse flex flex-col items-center\">\r\n          <div className=\"h-4 w-4 bg-indigo-600 rounded-full mb-2 animate-bounce\"></div>\r\n          <p className=\"text-gray-500 text-sm\">Verifying Admin Access...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // --- ADMIN ONLY CONTENT BELOW ---\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-8\">\r\n      <div className=\"max-w-4xl mx-auto bg-white rounded-lg shadow p-6\">\r\n        <div className=\"flex justify-between items-center border-b pb-4 mb-4\">\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Admin Dashboard</h1>\r\n          <Button variant=\"outline\" onClick={logout} className=\"w-auto\">\r\n            Sign Out\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"space-y-4\">\r\n          <div className=\"bg-red-50 p-4 rounded-md border border-red-200\">\r\n            <h2 className=\"text-lg font-bold text-red-900\">Restricted Area</h2>\r\n            <p className=\"text-red-700\">Only users with role <strong>'admin'</strong> can see this page.</p>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"p-4 border rounded\">\r\n              <span className=\"block text-sm text-gray-500\">Admin Email</span>\r\n              <span className=\"font-medium\">{user.email}</span>\r\n            </div>\r\n            <div className=\"p-4 border rounded\">\r\n              <span className=\"block text-sm text-gray-500\">Role</span>\r\n              <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 uppercase\">\r\n                {user.role}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,yIAAO;IAC3C,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,6BAA6B;QAC7B,IAAI,CAAC,WAAW;YACd,IAAI,CAAC,MAAM;gBACT,yBAAyB;gBACzB,OAAO,IAAI,CAAC;YACd,OAAO,IAAI,KAAK,IAAI,KAAK,SAAS;gBAChC,0CAA0C;gBAC1C,OAAO,IAAI,CAAC;YACd;QACF;IACF,GAAG;QAAC;QAAM;QAAW;KAAO;IAE5B,oCAAoC;IACpC,IAAI,aAAa,CAAC,QAAQ,KAAK,IAAI,KAAK,SAAS;QAC/C,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;IAI7C;IAEA,mCAAmC;IACnC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,8OAAC,4IAAM;4BAAC,SAAQ;4BAAU,SAAS;4BAAQ,WAAU;sCAAS;;;;;;;;;;;;8BAKhE,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAiC;;;;;;8CAC/C,8OAAC;oCAAE,WAAU;;wCAAe;sDAAqB,8OAAC;sDAAO;;;;;;wCAAgB;;;;;;;;;;;;;sCAG3E,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDAA8B;;;;;;sDAC9C,8OAAC;4CAAK,WAAU;sDAAe,KAAK,KAAK;;;;;;;;;;;;8CAE3C,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDAA8B;;;;;;sDAC9C,8OAAC;4CAAK,WAAU;sDACb,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1B"}}]
}